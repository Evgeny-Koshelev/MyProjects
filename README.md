Рефлексия и DI
1. Создать аннотацию AutoInjectable(или любое другое название). Данной аннотацией будут помечаться поля классов для которых нужно будет осуществить внедрение зависимости
2. Создать аннотацию Configuration(или любое другое название) со свойством packages(массив String). Данное свойство будет хранить в себе имена пакетов, где нужно будет искать классы, инстансы которых будут внедряться в поля, помеченные аннотацией AutoInjectable
3. Создать класс Injector(или любое другое имя), который будет осуществлять внедрение зависимостей.
Данный класс помечаем аннотацией Configuration. По ее свойству packages определяем в каких пакетах будем искать классы
Создаем метод что-то типа public static <T> T inject(T object){....}
В этот метод будет передаваться некий объект куда надо осуществить внедрение зависимостей. В теле метода
Ищем поля класса, которые помечены аннотацией AutoInjectable
Если это простое поле(не коллекция) то ищем класс, среди пакетов, которые указаны в конфигурации, который может быть внедрен(совпадают интерфейсы, или наследники или еще что - правило по которому ищется класс можете придумать сами). Если таких классов больше одного - выкидываете исключение. Если таких классов нет - выкидываете исключение. Если такой класс один - создаете экземпляр и внедряетет его в поле
Если поле типа коллекции, то тогда делаем тоже, что и в пункте два, только без проверки на количество классов(сколько нашли, столько и внедрили в коллекцию)
Протестировать инъекцию на классе репозитории(пометив поле сортировщика(sorter) аннотацией AutoInjectable)и на Csv loader пометив этой аннотацией поле со списком валидаторов.
